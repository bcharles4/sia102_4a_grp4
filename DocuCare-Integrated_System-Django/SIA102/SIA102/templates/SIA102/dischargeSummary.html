{% extends "SIA102/layout.html" %}
{% load static %}

{% block body %}
    <title>Patient Discharge Summary</title>
    <link rel="stylesheet" href="{% static 'SIA102/dischargeRecords.css' %}">

    <!-- Main Content - Patient List -->
     <div class="dis-con">
    <div class="dischargeSummary-main">
        <span class="headerDiv">
            <h2>Patient Discharge Summary</h2>
        </span>
        <!-- Patient Information Section -->
        <div class="section">
            <h2>Patient Information</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <td>{{ patientInfo.Patient_FName }} {{ patientInfo.Patient_MName }} {{ patientInfo.Patient_LName }} </td>
                </tr>
                <tr>
                    <th>Patient_Type</th>
                    <td>{{ patientInfo.Patient_Type }} </td>
                </tr>
                <tr>
                    <th>Age</th>
                    <td>{{ patientInfo.Age }}</td>
                </tr>
                <tr>
                    <th>Sex</th>
                    <td>{{ patientInfo.Sex }}</td>
                </tr>
                <tr>
                    <th>Date_of_Birth</th>
                    <td>{{ patientInfo.DoB }}</td>
                </tr>
                <tr>
                    <th>Admission_Date</th>
                    <td>{{ patientInfo.Admission_Date }}</td>
                </tr>
                <tr>
                    <th>Discharge_Date</th>
                    <td>{{ patientInfo.Deletion_Date }}</td>
                </tr>
                <tr>
                    <th>Attending_Physician</th>
                    <td>{{ patientInfo.Attending_Physician }}</td>
                </tr>
                <tr>
                    <th>Diagnosis</th>
                    <td>{{ patientInfo.Admitting_Diagnosis }}</td>
                </tr>
            </table>
        </div>

        <!-- Vital Signs Section -->
        <div class="section">
            <h2>Vital Signs at Discharge</h2>
            <table>
                <thead>
                    <tr>
                        <th>Temperature</th>
                        <th>Pulse</th>
                        <th>Respiration</th>
                        <th>Blood_Pressure</th>
                        <th>Urine</th>
                        <th>Stool</th>
                        <th>Hieght</th>
                        <th>Weight</th>
                    </tr>
                </thead>
                <tbody>
                    {% for vital in vitals %}
                        {% if vital %}
                            <tr>
                                <td>{{ vital.Temperature }}</td>
                                <td>{{ vital.Pulse }}</td>
                                <td>{{ vital.Respiration }}</td>
                                <td>{{ vital.Blood_Pressure }}</td>
                                <td>{{ vital.Urine }}</td>
                                <td>{{ vital.Stool }}</td>
                                <td>{{ vital.Weight }}</td>
                            </tr>
                        {% else %}
                            <tr>
                                <td colspan="8">No data available</td>
                            </tr>
                        {% endif %}
                {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- IV Treatments Section -->
        <div class="section">
            <h2>IV Treatments</h2>
            <table>
                <tr>
                    <th>Bottle_No</th>
                    <th>IV_Solution</th>
                    <th>Volume</th>
                    <th>Incorporation</th>
                    <th>Regulation</th>
                    <th>Start_Time</th>
                    <th>Time_End</th>
                    <th>Remarks</th>
                </tr>
                {% for discharge in dischargeInfo %}
                    {% if discharge %}
                        <tr>
                            <td>{{ discharge.IV_Bottle_No }}</td>
                            <td>{{ discharge.IV_Solution }}</td>
                            <td>{{ discharge.IV_Volume }}</td>
                            <td>{{ discharge.IV_Incorporation }}</td>
                            <td>{{ discharge.IV_Regulation }}</td>
                            <td>{{ discharge.IV_Start_Time }}</td>
                            <td>{{ discharge.IV_Time_End }}</td>
                            <td>{{ discharge.IV_Remarks }}</td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="8">No data available</td>
                        </tr>
                    {% endif %}
                {% endfor %}
                
            </table>

            <h2>IV Side Drip</h2>
            <table>
                <tr>
                    <th>Bottle_No</th>
                    <th>IV_Solution</th>
                    <th>Volume</th>
                    <th>Incorporation</th>
                    <th>Regulation</th>
                    <th>Start_Time</th>
                    <th>Time_End</th>
                    <th>Remarks</th>
                </tr>
                {% for discharge in dischargeInfo %}
                    {% if discharge %}
                        <tr>
                            <td>{{ discharge.SD_Bottle_No }}</td>
                            <td>{{ discharge.SD_Solution }}</td>
                            <td>{{ discharge.SD_Volume }}</td>
                            <td>{{ discharge.SD_Incorporation }}</td>
                            <td>{{ discharge.SD_Regulation }}</td>
                            <td>{{ discharge.SD_Start_Time }}</td>
                            <td>{{ discharge.SD_Time_End }}</td>
                            <td>{{ discharge.SD_Remarks }}</td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="8">No data available</td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </table>

                <h2>IV Fast Drip</h2>
                <table>
                    <tr>
                        <th>IVF</th>
                        <th>Volume</th>
                        <th>Incorporation</th>
                        <th>Time_Taken</th>
                        <th>Remarks</th>
                    </tr>
                    {% for discharge in dischargeInfo %}
                        {% if discharge %}
                            <tr>
                                <td>{{ discharge.FD_IVF }}</td>
                                <td>{{ discharge.FD_Volume }}</td>
                                <td>{{ discharge.FD_Incorporation }}</td>
                                <td>{{ discharge.FD_Time_Taken }}</td>
                                <td>{{ discharge.FD_Remarks }}</td>
                            </tr>
                        {% else %}
                            <tr>
                                <td colspan="8">No data available</td>
                            </tr>
                        {% endif %}
                    {% endfor %}
                    
                </table>
            </table>

        </div>

        <!-- Kardex Medications Section -->
        <div class="section">
            <h2>Medications</h2>
            <table>
                <thead>
                    <tr>
                        <th>Medication_Name</th>
                        <th>Medication_Remarks</th>
                    </tr>
                </thead>
                <tbody>
                    {% for discharge in dischargeInfo %}
                        {% if discharge %}
                            <tr>
                                <td>{{ discharge.Medication_Name }}</td>
                                <td>{{ discharge.Medication_Remarks }}</td>
                            </tr>
                        {% else %}
                            <tr>
                                <td colspan="8">No data available</td>
                            </tr>
                        {% endif %}
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Footer -->
        <div class="section">
            <p><strong>Prepared by:</strong> Nurse C</p>
            <p><strong>Approved by:</strong> Dr. Smith</p>
        </div>

            <div class="print-button" style="text-align: center; margin-top: 20px;">
        <button onclick="window.print()">Patient Discharge Summary</button>
    </div>
    </div>

</div>

{% endblock %}
